<h3 class="mb-3">{{titulo}}</h3>

<div class="d-flex align-items-center gap-2 mb-2">
  <span *ngIf="loading" class="text-muted">Carregando...</span>
</div>

<form class="card card-body mb-4" [formGroup]="form" (ngSubmit)="submit()">
  <div class="row g-3">
    <div class="col-md-3">
      <label class="form-label" for="placa">Placa</label>
      <input
        name="placa"
        class="form-control"
        formControlName="placa"
        placeholder="ABC-1234"
      />
      <div
        class="text-danger small"
        *ngIf="form.controls.placa.touched && form.controls.placa.invalid"
      >
        Placa é obrigatória.
      </div>
    </div>

    <div class="col-md-3">
      <label class="form-label" for="chassi">Chassi</label>
      <input
        name="chassi"
        class="form-control"
        formControlName="chassi"
        placeholder="CHASSI..."
      />
    </div>

    <div class="col-md-3">
      <label class="form-label" for="renavam">Renavam</label>
      <input
        name="renavam"
        class="form-control"
        formControlName="renavam"
        placeholder="RENAVAM..."
      />
    </div>

    <div class="col-md-3">
      <label class="form-label" for="ano">Ano</label>
      <input
        type="number"
        name="ano"
        class="form-control"
        formControlName="ano"
      />
    </div>

    <div class="col-md-6">
      <label class="form-label" for="modelo">Modelo</label>
      <input
        class="form-control"
        name="modelo"
        formControlName="modelo"
        placeholder="Civic"
      />
    </div>

    <div class="col-md-6">
      <label class="form-label" for="marca">Marca</label>
      <input
        class="form-control"
        name="marca"
        formControlName="marca"
        placeholder="Honda"
      />
    </div>
  </div>

  <div class="d-flex gap-2 mt-3">
    <button class="btn btn-primary" type="submit" [disabled]="loading">
      {{ form.value.id ? "Atualizar" : "Cadastrar" }}
    </button>
    <button
      class="btn btn-outline-secondary"
      type="button"
      (click)="resetForm()"
    >
      Limpar
    </button>
    <a class="btn btn-outline-primary" [routerLink]="['./listagem']">
      Cancelar
    </a>
  </div>
</form>
